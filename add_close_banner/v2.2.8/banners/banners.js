define(["exports","text!./banners.html","../websockets/binary_websockets","css!banners/banners.css"],function(n,e,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.init=n.isEuCountry=void 0;var a=o(e),i=o(t);function o(n){return n&&n.__esModule?n:{default:n}}var s=n.isEuCountry=function(n,e){var t=new RegExp("^(maltainvest|malta|iom)$"),a=new RegExp("^mt$"),i=e&&e.financial_company?e.financial_company.shortcode:"",o=e&&e.gaming_company?e.gaming_company.shortcode:"";return i||o?t.test(i)||t.test(o):a.test(n)},c=n.init=function(){var n=$(a.default).i18n();$("body").find("nav").after(n),document.getElementById("close_banner_btn_iom").href=getderivUrl(""),u()},u=function(){var a=document.getElementById("close_banner_container");local_storage.get("oauth")?i.default.cached.authorize().then(function(){var t=local_storage.get("authorize").country;i.default.send({landing_company:t}).then(function(n){var e=n.landing_company;s(t,e)?a.classList.remove("invisible"):a.classList.add("invisible")})}):i.default.send({website_status:1}).then(function(n){var t=n.website_status.clients_country;i.default.send({landing_company:t}).then(function(n){var e=n.landing_company;s(t,e)?a.classList.remove("invisible"):a.classList.add("invisible")})})};i.default.events.on("login",function(){u()}),i.default.events.on("logout",function(){u()}),n.default={init:c,isEuCountry:s}});